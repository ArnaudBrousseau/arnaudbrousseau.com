<!DOCTYPE html>
<html lang="en" class="no-js">
    <head>
        <meta charset="utf-8" />
        <!--
        ***********************************************************************
        ArnaudBrousseau.com || v5 || Copyright Â© Arnaud Brousseau 2009-2014
        ***********************************************************************
        Are you reading this? You're awesome. You're reading the source.

        Feel free to look around. If you spot something interesting, weird or
        awesome or outright wrong don't hesitate to contact me. I don't bite.
        I'm <first-name>.<last-name>@gmail.com.

        Oh and if you're wondering: this site is static, built with DocPad.
        Check out how: https://github.com/ArnaudBrousseau/arnaudbrousseau.com

        FYI this site was last generated on:
        Mon Mar 10 2014 09:01:35 GMT-0700 (PDT) (how precise! I know.)
        ***********************************************************************
        -->
        <meta name="description" content="" />
        <meta name="author" content="Arnaud Brousseau" />

        <!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><![endif]-->

        <title>Playing with Firefly and Fitbit data | Arnaud Brousseau</title>
        <link href="http://fonts.googleapis.com/css?family=PT+Serif:400,700" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="/css/style.css?v=3.0" />

        <!-- All JavaScript at the bottom, except for Modernizr which enables HTML5 elements & feature detection -->
        <script src="/js/modernizr-1.5.min.js"></script>
    </head>

    <body>
        <header>
            <nav class="nav-container">
                <a href="/" class="nav-link " title="Go back home">Home</a>
                <a href="/labs" class="nav-link " title="Check out what I've been cooking">Labs</a>
                <a href="/notes" class="nav-link active" title="Check out what I've been writting">Notes</a>
            </nav>
        </header>

        <section id="main">
            <h1 class="title note-title">Playing with Firefly and Fitbit data</h1>
<p class="note-subtitle">
    <em class="note-subtitle-content">Last edited on
        <time datetime="2012-10-20">October 20th 2012</time>
        by
        <a href="https://google.com/+ArnaudBrousseau?rel=author" target="_blank" rel="author">Arnaud Brousseau</a>
    </em>
</p>

<div class="note-content">
    <h2 id="initial-idea">Initial idea</h2>
<p>Plot Fitbit data using Firefly, a plotting library recently open sourced by Yelp.</p>
<h2 id="install-steps">Install steps</h2>
<p>As of now, the install process is still a bit rough, but nothing you can&#39;t get away with.</p>
<pre class="brush:plain">
    git clone https://github.com/Yelp/firefly.git
    git submodule update --init
    sudo easy_install tornado
    sudo easy_install pyyaml
    sudo easy_install simplejson
    sudo easy_install tornado
</pre>

<p>And then, you need to install RDDTool. This library is a pain to install if
you&#39;re on MAC OS X. Here&#39;s what I did:</p>
<ul>
<li>Go to <a href="http://www.macports.org/install.php#pkg">http://www.macports.org/install.php#pkg</a> and download the version that suits your OS X version</li>
<li>Install mac port</li>
<li>run &quot;sudo port install rrdtool&quot;. This will take care of all the dependancies not installed on your system</li>
<li>sudo port build rrdtool, which will give you a build version</li>
<li><code>cd /opt/local/var/macports/build/*_net_rrdtool/rrdtool/work/rrdtool-1.4.7/bindings/python/</code></li>
<li>sudo /opt/local/bin/python setup.py build</li>
<li>sudo /opt/local/bin/python setup.py install</li>
<li>sudo port install rrdtool</li>
</ul>
<p>Once that&#39;s done, you can hopefully run Firefly with the following:</p>
<pre class="brush:plain">
  python -m firefly.main --testing -c firefly.yaml.example
</pre>

<p>I personnaly had issues with the python version I was running. If you&#39;re in some
trouble see this SO thread: <a href="http://stackoverflow.com/questions/12658141/python-cannot-import-urandom-module-os-x">http://stackoverflow.com/questions/12658141/python-cannot-import-urandom-module-os-x</a></p>
<h2 id="troubles">Troubles</h2>
<p>The value returned by <code>socket.getfqdn()</code> was awfully wrong for me. I had to
hardcode stuff in main.(<code>firefly/main.py</code>)<br>Also, even after doing that, the json encoding in the index template would
cause everything to fail once again. I had to harcode things again there.</p>

</div>

<link href="/css/shCoreMidnight.css" rel="stylesheet" type="text/css" />
<script src="/js/shCore.js" type="text/javascript"></script>
<script src="/js/shAutoloader.js" type="text/javascript"></script>
<script type="text/javascript">
    SyntaxHighlighter.autoloader(
        'js jscript javascript  /js/shBrushJScript.js',
        'python                 /js/shBrushPython.js',
        'plain                  /js/shBrushPlain.js',
        'css                    /js/shBrushCss.js'
    );
    SyntaxHighlighter.all();
</script>
        </section>

        <footer>
          <h1>The End.</h1>
          <p>
            &mdash; &#10084; &mdash;
            <br />
            This is an open-source website.
            <a class="view-source" href="https://github.com/ArnaudBrousseau/arnaudbrousseau.com" target="_blank" title="Feeling brave enough?">
              Check out the source, Luke!
            </a>
          </p>
        </footer>

        <!-- Grab Google CDN's jQuery. fall back to local if necessary -->
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js"></script>
        <script>!window.jQuery && document.write('<script src="/js/jquery-1.4.3.min.js"><\/script>')</script>

        <script src="/js/script.js?v=1.1"></script>

        <!-- Google analytics - asynchronous mode -->
        <script>
          var _gaq = [['_setAccount', 'UA-19545721-1'], ['_trackPageview']];
          (function(d, t) {
            var g = d.createElement(t),
                s = d.getElementsByTagName(t)[0];
            g.async = true;
            g.src = '//www.google-analytics.com/ga.js';
            s.parentNode.insertBefore(g, s);
          })(document, 'script');
        </script>
    </body>
</html>

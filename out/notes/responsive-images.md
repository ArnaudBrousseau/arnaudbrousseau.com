Just a note
-----------

take a mobile first approach and deliver the lower image in your html
Via js, deliver a better suited image.
This will give almost immediate visual feedback to mobile users.
For desktop users, they'll download 2 images. However, the size of a 320px width image is very low compared to say a 700px wide image (that is assuming your aspect ratio is somewhat standard of course.if you have a very thin image (almost no height) then the square effect diminishes.